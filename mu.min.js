(function(c){"object"===typeof exports?module.exports=c():"function"===typeof define&&define.amd?define(c):µ=c()})(function(){function c(){}function k(a){return a.replace(/-(.)/g,function(a,d){return d.toUpperCase()})}function g(a){return"[object Array]"==={}.toString.call(a)}function e(a){return[].slice.call(a)}c.one=function(a){return document.querySelector(a)};c.all=function(a){return e(document.querySelectorAll(a))};c.create=function(a){return document.createElement(a)};Node.prototype.one=function(a){return this.querySelector(a)};Node.prototype.all=function(a){return e(this.querySelectorAll(a))};Node.prototype.each=function(a){a.bind(this)(0);return this};Node.prototype.µAddEventListener=Node.prototype.addEventListener;Node.prototype.addEventListener=function(){this.µEventCache=this.µEventCache||[];this.µEventCache.push(arguments);this.µAddEventListener.apply(this,arguments)};Node.prototype.on=function(a,b){this.addEventListener(a,b);return this};Window.prototype.on=Node.prototype.on;Node.prototype.add=function(){return e(arguments).reduce(function(a,b){g(b)?a.add.apply(a,b):a.appendChild(b.nodeType?b:document.createTextNode(b));return a},this)};Node.prototype.css=function(a){if("string"===typeof a)return this.style[k(a)];for(var b in a)this.style[k(b)]=a[b];return this};Node.prototype.attr=function(a){if("string"===typeof a)return this[a];for(var b in a)this[b]=a[b];return this};Node.prototype.empty=function(){for(;this.firstChild;)this.removeChild(this.firstChild);return this};Node.prototype.text=function(a){return"undefined"===typeof a?this.textContent:this.attr({textContent:a})};Node.prototype.copy=function(){var a=this.cloneNode(!1);this.µEventCache&&this.µEventCache.each(function(){a.addEventListener.apply(a,this)});return a.add.apply(a,e(this.childNodes))};Array.prototype.each=function(a){this.forEach(function(b,d){a.bind(b)(d)});return this};Array.prototype.one=function(a){var b=[];this.each(function(){this.querySelector(a)&&b.push(this.querySelector(a))});return b};Array.prototype.all=function(a){var b=[];this.each(function(){b=b.concat(e(this.querySelectorAll(a)))});return b};Array.prototype.add=function(){var a=arguments;return this.each(function(){for(var b=0;b<a.length;b++)g(a[b])?this.add.apply(this,a[b].copy()):this.appendChild(a[b].nodeType?a[b].copy():document.createTextNode(a[b]))})};"on css attr empty text copy".split(" ").each(function(){var a=this+"";Array.prototype[a]=function(){var b=arguments,d=[];this.each(function(){d.push(this[a].apply(this,b))});return d}});var h={img:["src","alt","title"],a:["href"],input:["type","name","value"],option:["value"],abbr:["title"],canvas:["width","height"]},l={ul:"li",ol:"li",tr:"td",table:"tr"};"section nav article aside header footer address main div span p strong em h1 h2 h3 h4 h5 h6 li td".split(" ").each(function(){h[this]=[]});for(var f in h)c[f]=function(a,b){return function(){var d=e(arguments);return c.create(a).attr(b.reduce(function(a,b){d.length&&(a[b]=d.shift());return a},{})).add(d)}}(f,h[f]);for(f in l)c[f]=function(a,b){return function(){return c.create(a).add(e(arguments).map(function(a){return c[b].apply(null,g(a)?a:[a])}))}}(f,l[f]);return c});