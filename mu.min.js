(function(d){"object"===typeof exports?module.exports=d():"function"===typeof define&&define.amd?define(d):mu=µ=d()})(function(){function d(){}function m(a){return a.replace(/-(.)/g,function(a,c){return c.toUpperCase()})}function k(a){return"[object Array]"==={}.toString.call(a)}function f(a){return[].slice.call(a)}d.one=function(a){return document.querySelector(a)};d.all=function(a){return f(document.querySelectorAll(a))};d.create=function(a){return document.createElement(a)};var h={one:function(a){return this.querySelector(a)},all:function(a){return f(this.querySelectorAll(a))},each:function(a){a.bind(this)(0);return this},"µAddEventListener":Node.prototype.addEventListener,addEventListener:function(){this.µEventCache=this.µEventCache||[];this.µEventCache.push(arguments);this.µAddEventListener.apply(this,arguments)},on:function(a,b){this.addEventListener(a,b);return this},add:function(){return f(arguments).reduce(function(a,b){k(b)?a.add.apply(a,b):a.appendChild(b.nodeType?b:document.createTextNode(b));return a},this)},css:function(a){if("string"===typeof a)return this.style[m(a)];for(var b in a)this.style[m(b)]=a[b];return this},attr:function(a){if("string"===typeof a)return this.getAttribute(a);for(var b in a)this.setAttribute(b,a[b]);return this},cls:function(){this.classList.add.apply(this.classList,arguments);return this},empty:function(){this.innerHTML="";return this},remove:function(){return this.parentNode.removeChild(this)},text:function(a){if("undefined"===typeof a)return this.textContent;this.textContent=a;return this},copy:function(){var a=this.cloneNode(!1);this.µEventCache&&this.µEventCache.each(function(){a.addEventListener.apply(a,this)});return a.add.apply(a,f(this.childNodes))}},e;for(e in h)Node.prototype[e]=h[e];Window.prototype.on=Node.prototype.on;h={each:function(a){this.forEach(function(b,c){a.bind(b)(c)});return this},one:function(a){var b=[];this.each(function(){this.querySelector(a)&&b.push(this.querySelector(a))});return b},all:function(a){var b=[];this.each(function(){b=b.concat(f(this.querySelectorAll(a)))});return b},add:function(){var a=arguments;return this.each(function(){return f(a).reduce(function(a,c){k(c)?a.add.apply(a,c.copy()):a.appendChild(c.nodeType?c.copy():document.createTextNode(c));return a},this)})}};for(e in h)Array.prototype[e]=h[e];"on css attr cls empty remove text copy".split(" ").each(function(){var a=this+"";Array.prototype[a]=function(){var b=arguments,c=[];this.each(function(){c.push(this[a].apply(this,b))});return c}});var l={img:["src","alt","title"],a:["href"],input:["type","name","value"],option:["value"],abbr:["title"],canvas:["width","height"]};e={ul:"li",ol:"li",tr:"td",table:"tr"};"section nav article aside header footer address main div span p strong em h1 h2 h3 h4 h5 h6 li td".split(" ").each(function(){l[this]=[]});for(var g in l)d[g]=function(a,b){return function(){var c=f(arguments);return d.create(a).attr(b.reduce(function(a,b){c.length&&(a[b]=c.shift());return a},{})).add(c)}}(g,l[g]);for(g in e)d[g]=function(a,b){return function(){return d.create(a).add(f(arguments).map(function(a){return d[b].apply(null,k(a)?a:[a])}))}}(g,e[g]);return d});